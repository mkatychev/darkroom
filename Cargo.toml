[package]
name = "darkroom"
version = "0.8.0"
description = "A contract testing tool built in Rust"
authors = ["Mikhail Katychev <mkatych@gmail.com>"]
edition = "2021"
license = "GPL-3.0"
readme = "README.md"

documentation = "https://docs.rs/crate/darkroom/"
homepage = "https://crates.io/crates/darkroom"
repository = "https://github.com/mkatychev/darkroom/"

[[bin]]
name = "dark"
path = "src/main.rs"

[workspace]
members = [
  "filmreel"
]

[dependencies]
anyhow = "1.0.71"
argh = "0.1.10"
chrono = "0.4.26"
colored = "2.0.0"
colored-diff = "0.2.3"
colored_json = "2.1.0"
filmreel = { version = "0.7.0", path = "filmreel" }
http = "0.2.9"
lazy_static = "1.4.0"
log = { version = "0.4.18", features = ["std"] }
prettytable-rs = "0.10.0"
reqwest = { version = "0.11.18", features = ["blocking", "json"] }
serde = { version = "1.0.163", features = ["derive"] }
serde_json = "1.0.96"
url = "2.3.1"
which = "4.4.0"

mdcat = { version = "0.30.3", optional = true }
syntect = { version = "5.0.0", optional = true }
pulldown-cmark = { version = "0.9.3", optional = true }
# overflow broken for latest minus
minus = { version = "3.4.0", optional = true, features = ["static_output"] }
# tokio = { version = "1.16.1", features = ["macros"] }

[dev-dependencies]
rstest = "0.16.0"

[features]
default = ["man"]
man = ["mdcat", "syntect", "pulldown-cmark", "minus"]
